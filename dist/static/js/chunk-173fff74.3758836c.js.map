{"version":3,"sources":["webpack:///./src/views/index/index.vue?398a","webpack:///src/views/index/index.vue","webpack:///./src/views/index/index.vue?3bde","webpack:///./src/views/index/index.vue","webpack:///./src/views/index/index.vue?622d"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","ref","attrs","list","on","loadRefresh","loadMore","_l","item","index","key","staticStyle","_v","_s","staticRenderFns","page","pageSize","methods","data","_fetchList","push","length","$refs","scroll","update","Array","from","component"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,kBAAkB,CAACG,IAAI,SAASD,YAAY,UAAUE,MAAM,CAAC,cAAc,CAACR,EAAIS,MAAM,eAAe,IAAIC,GAAG,CAAC,YAAcV,EAAIW,YAAY,UAAYX,EAAIY,WAAW,CAACR,EAAG,KAAKJ,EAAIa,GAAIb,EAAQ,MAAE,SAASc,EAAKC,GAAO,OAAOX,EAAG,KAAK,CAACY,IAAID,EAAME,YAAY,CAAC,OAAS,SAAS,CAACjB,EAAIkB,GAAG,aAAalB,EAAImB,GAAGL,GAAM,cAAcV,EAAG,IAAI,CAACE,YAAY,0BAAyB,MAAM,IAChfc,EAAkB,G,YCyBtB,GACE,OACE,MAAO,CACLX,KAAM,KAGV,UAEER,KAAKoB,KAAO,EACZpB,KAAKqB,SAAW,IAElB,sBACQrB,KAAKU,eAEbY,QAAS,CAEP,oBACE,MAAMC,QAAavB,KAAKwB,aAC9B,gEAEMxB,KAAKQ,KAAOe,EACZvB,KAAKoB,KAAO,GAGd,iBACE,MAAMA,EAAOpB,KAAKoB,KAAO,EACnBG,QAAavB,KAAKwB,WAAWJ,GAEnCpB,KAAKQ,KAAKiB,QAAQF,GAClBA,EAAKG,OAAS1B,KAAKqB,SAAWrB,KAAK2B,MAAMC,OAAOC,QAAO,GAAQ7B,KAAKoB,QAItE,iBAAJ,qBACM,IAEE,aADM,OAAd,OAAc,CAAd,KACYA,EAAO,EAGFU,MAAMC,KAAK,CAA5B,6CAGiBD,MAAMC,KAAK,CAA5B,oDAEA,SACQ,OAAO,MCvEmb,I,wBCQ9bC,EAAY,eACd,EACAlC,EACAqB,GACA,EACA,KACA,WACA,MAIa,aAAAa,E,6CCnBf,yBAAynB,EAAG,G","file":"static/js/chunk-173fff74.3758836c.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"home\"},[_c('me-refresh-load',{ref:\"scroll\",staticClass:\"content\",attrs:{\"update-data\":[_vm.list],\"refresh-data\":[]},on:{\"pullingDown\":_vm.loadRefresh,\"pullingUp\":_vm.loadMore}},[_c('ul',_vm._l((_vm.list),function(item,index){return _c('li',{key:index,staticStyle:{\"height\":\"40px\"}},[_vm._v(\"\\n        \"+_vm._s(item)+\"\\n        \"),_c('i',{staticClass:\"allow-right-icon\"})])}),0)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"home\">\n    <me-refresh-load\n      ref=\"scroll\"\n      :update-data=\"[list]\"\n      :refresh-data=\"[]\"\n      class=\"content\"\n      @pullingDown=\"loadRefresh\"\n      @pullingUp=\"loadMore\">\n      <ul>\n        <li\n          v-for=\"(item, index) in list\"\n          :key=\"index\"\n          style=\"height: 40px;\"\n        >\n          {{ item }}\n          <i class=\"allow-right-icon\"></i>\n        </li>\n      </ul>\n    </me-refresh-load>\n  </div>\n</template>\n\n<script>\nimport { timeout } from '../../components/me-refresh-load/Scroll/utils'\n\nexport default {\n  data () {\n    return {\n      list: [],\n    }\n  },\n  created () {\n    // 不会引起DOM变化的数据在此定义\n    this.page = 1\n    this.pageSize = 20\n  },\n  async mounted () {\n    await this.loadRefresh()\n  },\n  methods: {\n    // 加载刷新数据\n    async loadRefresh () {\n      const data = await this._fetchList()\n\t\t\tdata.length < this.pageSize ? this.$refs.scroll.update(true) : this.page++ // 判断是否已达最后一页?如果已是最后一页，可调用this.$refs.scroll.update(true)关闭上拉\n      // 初始化数据\n      this.list = data\n      this.page = 1\n    },\n    // 加载更多数据\n    async loadMore () {\n      const page = this.page + 1\n      const data = await this._fetchList(page)\n\n      this.list.push(...data)\n      data.length < this.pageSize ? this.$refs.scroll.update(true) : this.page++ // 判断是否已达最后一页?如果已是最后一页，可调用this.$refs.scroll.update(true)关闭上拉\n    },\n\n    // 模拟一个异步获取列表操作\n    async _fetchList (page = 1, pageSize = this.pageSize) {\n      try {\n        await timeout(1000)\n        if (page < 3) {\n          // 模拟数据返回\n//        return []\n          return Array.from({ length: pageSize }, (value, index) => `第${page}页的数据${index},点我(｡･ω･)ﾉﾞ`)\n        } else {\n          // 模拟已到达最后一页时的数据返回\n          return Array.from({ length: pageSize / 2 }, (value, index) => `最后一页,第${page}页的数据${index},点我(｡･ω･)ﾉﾞ`)\n        }\n      } catch (e) {\n        return false\n      }\n    },\n  },\n}\n</script>\n\n<style scoped=\"scoped\">\n\t.content{\n\tflex: 1;\n\tbackground-color: @me-bg-light;\n\toverflow: hidden;\n\tbox-sizing: border-box;\n}\n.home{\n\tbox-sizing: border-box;\n\tdisplay: flex;\n\tflex-flow: column;\n\twidth: 100%;\n\theight: 100%;\n\toverflow: hidden;\n}\n.content ul li{\n\tbackground: #fff;\n\theight: 44px;\n\tline-height: 44px;\n\ttext-align: center;\n\tborder-bottom: 1px solid #eee;\n\tposition: relative;\n}\n</style>\n","import mod from \"-!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.1@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.1@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=ce2e31c0&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=ce2e31c0&scoped=scoped&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.9.1@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ce2e31c0\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/_mini-css-extract-plugin@0.8.2@mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/_css-loader@3.5.3@css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/_vue-loader@15.9.1@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.1@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=ce2e31c0&scoped=scoped&lang=css&\"; export default mod; export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.8.2@mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/_css-loader@3.5.3@css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/_vue-loader@15.9.1@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.1@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=ce2e31c0&scoped=scoped&lang=css&\""],"sourceRoot":""}